(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{113:function(e,t,a){},114:function(e,t,a){},155:function(e,t){},158:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(1),c=a(4),o=a(2),u=a(3),i=a(7),s=a(9),m=a(12),h=a.n(m);function p(e,t){return function(a){Object(o.a)(i,a);var n=Object(u.a)(i);function i(){var e;return Object(l.a)(this,i),(e=n.call(this)).state={loading:!0,redirect:!1,intendedPath:"",message:""},e}return Object(c.a)(i,[{key:"componentDidMount",value:function(){var e=this,a={authorization:"Bearer "+localStorage.getItem("token")};if(t){this.setState({intendedPath:t});var n=t.slice(1);n=n.replace(/-/g," "),this.setState({message:"Please log in to access ".concat(n)})}else this.setState({message:"Please log in"});h.a.get("/api/auth/verify",{headers:a}).then((function(t){200===t.status?e.setState({loading:!1}):e.setState({loading:!1,redirect:!0})})).catch((function(t){e.setState({loading:!1,redirect:!0})}))}},{key:"render",value:function(){var a=this.state,n=a.loading,l=a.redirect;return n?null:l?r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{to:{pathname:"/auth",state:{route:t,message:this.state.message}}})):r.a.createElement(r.a.Fragment,null,r.a.createElement(e,this.props))}}]),i}(n.Component)}var b=a(5),d=a(6),g=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={eventname:"",sponges:""},n.handleChange=n.handleChange.bind(Object(d.a)(n)),n.submit=n.submit.bind(Object(d.a)(n)),n}return Object(c.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"submit",value:function(e){e.preventDefault(),h.a.post("/api/events",{name:this.state.eventname,sponges:this.state.sponges}).then((function(e){console.log("Created event: "+e)})).catch((function(e){console.log(e)})),this.props.checkForUpdates()}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.submit},r.a.createElement("label",null,"Create an event ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"eventname",placeholder:"name",value:this.state.value,onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"sponges",placeholder:"sponges",value:this.state.value,onChange:this.handleChange})),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Create"}))}}]),a}(n.Component),v=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null," Events: "),r.a.createElement("ul",null,this.props.events.map((function(e){var t=e.id,a=e.name,n=e.data;return r.a.createElement("li",{key:t.toString()},a," ",n)}))))}}]),a}(n.Component),E=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).checkForUpdates=function(){h.a.get("/api/events").then((function(t){e.setState({events:t.data})})).catch((function(e){return console.log(e)}))},e.state={events:[]},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.checkForUpdates()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g,{checkForUpdates:this.checkForUpdates}),r.a.createElement(v,{events:this.state.events}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(i.b,{to:"/"},"Back to entryway"))}}]),a}(n.Component),f=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={email:"",password:""},n.handleChange=n.handleChange.bind(Object(d.a)(n)),n.login=n.login.bind(Object(d.a)(n)),n}return Object(c.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"login",value:function(e){var t=this;e.preventDefault(),h.a.post("/api/auth/login",{email:this.state.email,password:this.state.password}).then((function(e){200===e.status&&(localStorage.setItem("token",e.data.token),t.props.updateAuth(!0))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return this.props.auth?r.a.createElement(s.a,{to:"".concat(this.props.pathway)}):r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.login},r.a.createElement("label",null,"Login",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"email",placeholder:"email",value:this.state.value,onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"password",placeholder:"password",value:this.state.value,onChange:this.handleChange})),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Login"})))}}]),a}(n.Component),O=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={username:"",email:"",password:"",authorize:!1},n.handleChange=n.handleChange.bind(Object(d.a)(n)),n.signup=n.signup.bind(Object(d.a)(n)),n}return Object(c.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"signup",value:function(e){var t=this;e.preventDefault(),h.a.post("/api/auth/signup",{email:this.state.email,password:this.state.password,username:this.state.username}).then((function(e){200===e.status&&(localStorage.setItem("token",e.data.token),t.setState({authorize:!0}),t.props.updateAuth(!0))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return this.state.authorize?(console.log("authorized"),r.a.createElement(s.a,{to:"".concat(this.props.pathway)})):r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.signup},r.a.createElement("label",null,"Need to signup?",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"username",placeholder:"username",value:this.state.value,onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"email",placeholder:"email",value:this.state.value,onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"password",placeholder:"password",value:this.state.value,onChange:this.handleChange})),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Signup"})))}}]),a}(n.Component),j=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).logout=n.logout.bind(Object(d.a)(n)),n}return Object(c.a)(a,[{key:"logout",value:function(e){localStorage.clear()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.logout},r.a.createElement("input",{type:"submit",value:"Logout"})))}}]),a}(n.Component),y=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).updateAuth=function(e){console.log("triggered",e),n.setState({auth:e})},n.state={pathway:"/",message:"",auth:!1},n.updateAuth=n.updateAuth.bind(Object(d.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.location.state?(this.setState({pathway:this.props.location.state.route}),this.setState({message:this.props.location.state.message})):console.log("nothing");var t={authorization:"Bearer "+localStorage.getItem("token")};h.a.get("/api/auth/verify",{headers:t}).then((function(t){200===t.status?e.setState({auth:!0}):e.setState({auth:!1})})).catch((function(t){e.setState({auth:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.auth,a=e.pathway;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"You are Already Logged In"),r.a.createElement(j,null)):r.a.createElement("div",null,r.a.createElement("h3",null,this.state.message),r.a.createElement(f,{pathway:a,updateAuth:this.updateAuth,auth:this.auth}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(O,{pathway:a,updateAuth:this.updateAuth,auth:this.auth}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(i.b,{to:"/"},"Back to entryway"),r.a.createElement("br",null),r.a.createElement("br",null))}}]),a}(n.Component),k=a(22),C=a.n(k),S=a(32),w=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("ul",null,this.props.traces.map((function(e){var t=e.id,a=e.title,n=e.body,l=e.img,c=void 0===l?null:l;return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{key:t.toString()},a," ",n),c?r.a.createElement("img",{src:c,height:"130px",width:"130px"}):r.a.createElement(r.a.Fragment,null))}))))}}]),a}(n.Component),x=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).checkForUpdates=Object(S.a)(C.a.mark((function t(){var a,n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get("/api/texts?source=slack").catch((function(e){return console.log(e)}));case 2:a=t.sent,n=a.data.map((function(e){if(""!=e.images){var t=JSON.parse(e.images)[0];e.img="https://3ecologies-seedbank.com/assets/images/"+t.path+"/"+t.name}return e})),e.setState({traces:n});case 5:case"end":return t.stop()}}),t)}))),e.state={traces:[]},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.checkForUpdates()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(w,{traces:this.state.traces}))}}]),a}(n.Component),F=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null," ABOUT 3 Ecologgiiiesssss ")}}]),a}(n.Component),A=a(48),D=a.n(A),M=(a(113),function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Header"},r.a.createElement("img",{className:"Cup",src:D.a,alt:"teapot"})),r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/events"},"Go to events")),r.a.createElement("li",null," ",r.a.createElement(i.b,{to:"/sponges"}," 20,000 sponges")),r.a.createElement("li",null," ",r.a.createElement(i.b,{to:"/auth"},"Login or signup")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/entryway"},"EntryWay")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/about3e"},"3E About")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/oOoOs"},"404 oOoO Portal")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/patches"},"Patches")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/socketz"},"sox")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/register-a-trace"},"Register a trace")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/convotraces"},"Convotraces")))))}}]),a}(n.Component)),P=(a(114),a(79)),U=a.n(P),B=function(){return r.a.createElement("div",{className:"glitch"},r.a.createElement("h3",null,"glitch"),r.a.createElement("img",{src:U.a,alt:"glitch"}))},z=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={image:"",tendencies:"",notes:""},n.onChange=n.onChange.bind(Object(d.a)(n)),n.submit=n.submit.bind(Object(d.a)(n)),n}return Object(c.a)(a,[{key:"onChange",value:function(e){switch(e.target.name){case"image":this.setState({image:e.target.files[0]});break;default:this.setState(Object(b.a)({},e.target.name,e.target.value))}}},{key:"submit",value:function(){var e=Object(S.a)(C.a.mark((function e(t){var a,n=this;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=new FormData,e.next=4,Object.keys(this.state).map((function(e){a.append(e,n.state[e])}));case 4:h.a.post("/api/assets/images",a,{"content-type":"multipart/form-data"}).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("form",{encType:"multipart/form-data"},r.a.createElement("label",null,"Upload an image",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"tendencies",placeholder:"tendencies (comma-separated)",value:this.state.value,onChange:this.onChange}),r.a.createElement("input",{type:"text",name:"notes",placeholder:"notes",value:this.state.value,onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"file",name:"image",onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"button",value:"Upload",onClick:this.submit})))}}]),a}(n.Component),L=function(){return r.a.createElement("div",null,r.a.createElement(z,null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(i.b,{to:"/"},"Back to entryway"))},I=a(11),N=a(49),H=a.n(N),R=a(53),T=a(80),Y=a.n(T),J=a(81),X=a.n(J),G=a(8),W=function(e){for(var t=[],a=[e.restofSponge,e.topofSponge],l=[],c=0;c<a.length;c++)t[c]=new G.TextureLoader,l.push(new G.MeshBasicMaterial({map:t[c].load(a[c]),transparent:!0}));var o=[l[0],l[1],l[1],l[1],l[1],l[1]],u=Object(n.useRef)(),i=Object(n.useState)(!1),s=Object(I.a)(i,2),m=(s[0],s[1]),h=Object(n.useState)(!1),p=Object(I.a)(h,2),b=p[0],d=p[1];return Object(R.b)((function(){return u.current.rotation.x=u.current.rotation.y+=.01})),r.a.createElement("mesh",Object.assign({},e,{ref:u,scale:b?[.75,3,1.5]:[.5,2,1],onClick:function(e){return d(!b)},onPointerOver:function(e){return m(!0)},onPointerOut:function(e){return m(!1)},material:o,dispose:null}),r.a.createElement("boxBufferGeometry",{attach:"geometry",args:[.5,2,1]}))},_=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(R.a,null,r.a.createElement("ambientLight",null),r.a.createElement("pointLight",{position:[10,10,10]}),r.a.createElement(n.Suspense,{fallback:null},r.a.createElement(W,{position:[-1.2,0,0],restofSponge:Y.a,topofSponge:X.a}))))}}]),a}(n.Component),q=a(86),K=a.n(q),Q=(a(125),a(87)),V=a.n(Q),Z=a(88),$=a.n(Z);function ee(e){var t,a,n;e.setup=function(){t=e.createCanvas(500,500),e.noStroke(),e.background("orangered"),(a=$()()).on("mouse",(function(t){e.newDrawing(t)})),n=e.loadSound(V.a)},e.newDrawing=function(t){console.log(t),e.noStroke(),e.fill("green"),e.ellipse(t.x,t.y,36,36),n.play()},e.mouseDragged=function(){console.log(e.mouseX+","+e.mouseY);var t={x:e.mouseX,y:e.mouseY};a.emit("mouse",t),e.fill("blue"),e.ellipse(e.mouseX,e.mouseY,36,26)},e.myCustomRedrawAccordingToNewPropsHandler=function(a){t&&e.fill(a.color)}}var te=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={color:[255*Math.random(),255*Math.random(),255*Math.random()]},e.randomColor=e.randomColor.bind(Object(d.a)(e)),e}return Object(c.a)(a,[{key:"randomColor",value:function(){this.setState({color:[255*Math.random(),255*Math.random(),255*Math.random()]})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("button",{onClick:this.randomColor},"Random Color"),r.a.createElement(K.a,{sketch:ee,color:this.state.color}))}}]),a}(n.Component);function ae(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Home Hello"))}var ne=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(i.a,null,r.a.createElement(M,null),r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:ae}),r.a.createElement(s.b,{path:"/about3e",component:F}),r.a.createElement(s.b,{path:"/oOoOs",component:B}),r.a.createElement(s.b,{path:"/sponges",component:_}),r.a.createElement(s.b,{path:"/socketz",component:te}),r.a.createElement(s.b,{path:"/patches",render:function(){return r.a.createElement("div",null,"Patches")}}),r.a.createElement(s.b,{path:"/entryway",render:function(){return r.a.createElement("div",null,"Entry")}}),r.a.createElement(s.b,{exact:!0,path:"/auth",component:y}),r.a.createElement(s.b,{exact:!0,path:"/events",component:p(E,"/events")}),r.a.createElement(s.b,{exact:!0,path:"/register-a-trace",component:p(L,"/register-a-trace")}),r.a.createElement(s.b,{exact:!0,path:"/convotraces",component:p(x,"/convotraces")})))}}]),a}(n.Component);H.a.render(r.a.createElement(ne,null),document.getElementById("root"))},48:function(e,t,a){e.exports=a.p+"static/media/pot.cb30fab2.jpg"},79:function(e,t,a){e.exports=a.p+"static/media/404_glitch2.119ecb7e.gif"},80:function(e,t,a){e.exports=a.p+"static/media/blue-sponge.2bd84a50.jpg"},81:function(e,t,a){e.exports=a.p+"static/media/orange-sponge.4ce5bf73.jpg"},87:function(e,t,a){e.exports=a.p+"static/media/boing.28da525a.mp3"},89:function(e,t,a){e.exports=a(158)}},[[89,1,2]]]);
//# sourceMappingURL=main.1fc56f05.chunk.js.map